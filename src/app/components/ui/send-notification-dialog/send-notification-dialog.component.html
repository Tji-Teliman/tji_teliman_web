<div class="notification-modal">
  <h2 class="modal-title">Envoyer une nouvelle notification</h2>

  <form #notificationForm="ngForm" class="notification-form">

    <div class="form-group select-group">
      <p class="form-label">Cible(s) de la notification *</p>
      <mat-select 
        placeholder="SÃ©lectionnez..."
        [(ngModel)]="notification.target" 
        name="target" 
        required
        class="custom-select"
      >
        <mat-option *ngFor="let target of targetOptions" [value]="target.value">
          {{ target.viewValue }}
        </mat-option>
      </mat-select>
    </div>

    <div class="form-group">
      <p class="form-label">Titre de la notification (max 50) *</p>
      <input 
        type="text" 
        [(ngModel)]="notification.title" 
        name="title" 
        maxlength="50"
        required
        class="custom-input"
        placeholder=""
      >
    </div>
    
    <div class="form-group message-group">
      <p class="form-label">Message de la notification (max 500) *</p>
      <textarea 
        [(ngModel)]="notification.message" 
        name="message" 
        maxlength="500"
        rows="4"
        required
        class="custom-textarea"
        placeholder=""
      ></textarea>
      <div class="char-count">{{ notification.message.length }} / 500</div>
    </div>
  </form>

  <div class="modal-actions">
    <button 
      mat-button 
      (click)="onCancel()" 
      class="btn-cancel"
    >
      Annuler
    </button>
    
    <button 
      mat-flat-button 
      color="primary" 
      [disabled]="notificationForm.invalid"
      (click)="onSend()"
      class="btn-send"
    >
      Envoyer
    </button>
  </div>
</div>